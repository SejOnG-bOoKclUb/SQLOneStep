# 19강 물리삭제와 논리삭제

물리삭제 : DELETE 명령어를 통해 행을 완전히 삭제하는 방식
논리삭제 : 삭제 플레그를 의미하는 열을 미리 설정해놓고 삭제되면 플레그를 UPDATE하는 방식

여기서는 물리삭제와 논리삭제가 상황에 따라 다르게 사용된다고 하지만 예시가 잘못되었다고 느낀다.
개인정보를 다루는 시스템에서는 개인정보이기 때문에 완전히 삭제하는 것이 안전하다고 표현되어있지만 일부분 동의하지 않는다.
내가 알기로는 기업에서는 개인정보를 일정기간 보유해야 하는 법적인 조항이 있기 때문에 논리적 삭제를 통해 삭제한다고 알고 있다.
하지만 그 기간이 지나면 완전히 삭제를 하긴해야된다. 
그리고 기업에서 볼 때 회원 정보 하나하나가 다 돈이라기 때문에 웬만하면 삭제하지 않는다고 들었던 기억이 있다.


# 20강 행 개수 구하기 - COUNT

집계함수 : 집합으로부터 하나의 값을 계산하는 함수

집계함수는 집합 안에 NULL 값이 있을 경우 무시한다.
- COUNT() : 행 개수


# 21강 COUNT 이외의 집계함수

- SUM() : 행 합계
- AVG() : 행 평균
- MIN() : 행 최솟값
- MAX() : 행 최댓값

# 22강 그룹화 GROUP BY

GROUP BY 함수를 사용해 행들을 그룹화해서 중복된 여러 열들을 하나의 열로 표현할 수 있다.
HAVING 절을 사용하면 집계함수를 사용한 조건문을 사용할 수 있다.

HAVING에서 별칭을 사용하는 것이 MySQL에서만 되는건지 몰랐다. 
이전 WHERE에서는 별칭을 사용하는 것이 불가능했다. ex) SELECT name n, age a FROM person WHERE n = '홍길동'
MySQL에서는 HAVING절을 활용하면 이 문제를 해결할 수 있다. ex) SELECT name n, age a FROM person HAVING n = '홍길동'
또한, MySQL에서는 ORDER BY를 사용할 때 열의 순서를 이용해 정렬할 수 있다. ex) SELECT name, age FROM person ORDER BY 1 -> name으로 정렬

# 23강 서브 쿼리

서브 쿼리 : SELECT구를 사용해 테이블을 생성하고 그 테이블을 다양한 곳에 넣어서 사용하는 것을 말한다.
열, WHERE, FROM, JOIN등에 넣어 사용할 수 있다.

MySQL에서는 데이터를 추가하거나 갱신하는 쿼리의 경우 동일한 테이블을 서브쿼리로 사용하는 것을 금지한다. -> 처음알았다.

- MySQL에서 변수 설정하는 방법
    ```mysql
    SET @a = (SELECT MIN(a) FROM sample);
    ```

스칼라 값 : SELECT 명령이 하나의 값만을 반환하는 것을 말한다.

INSERT 명령에서 서브쿼리 사용은 안해봤는데 신기하군

# 24강 상관 서브쿼리

EXISTS 술어를 조합해 서브쿼리를 사용하는 것을 말한다.
```mysql
EXISTS (SELECT 명령)
```
행이 있는지 확인해주는 함수 (참, 거짓)

상관 서브쿼리 : 부모 명령과 자식인 서브쿼리가 특정 관계를 맺는 쿼리

# 25강 데이터베이스 객체


데이터베이스 객체는 객체지향 프로그래밍에서 말하는 객체와 다르게 사용된다.
데이터베이스 내에서 실체를 가지는 어떤 것을 말한다. ex) 테이블, 뷰, 인덱스

# 26강 테이블 작성, 삭제, 변경

```mysql
CREATE TABLE 테이블명 (열 정의1, 열 정의2) 
    -> 열 정의 : 열명 자료형 [DEFAULT] [NULL|NOT NULL]
DROP TABLE 테이블명
ALTER TABLE 테이블명 하부 명령
```

DDL : 뎅디터를 정의하는 명령

행을 삭제하는 명령어로 DELETE가 있지만 모든 행을 삭제하려면 TRUNCATE TABLE 명령을 주로 사용한다.

- ALTER TABLE 
  - 열 추가
    ALTER TABLE 테이블명 ADD 열 정의
  - 제약 추가, 삭제
    ALTER TABLE 테이블명 MODIFY 열 정의
  - 열 이름 변경
    ALTER TABLE 테이블명 CHANGE [기존 열이름] [신규 열 정의]
  - 열 삭제
    ALTER TABLE 테이블명 DROP 열명

# 27강 제약

CREATE TABLE로 테이블을 생성할 때 열 이외에 제약도 정의할 수 있다.

- NOT NULL : NULL 값을 저장할 수 없게 한다.
- UNIQUE : 중복된 값이 들어가지 못하게 한다.
- PRIMARY KEY 

기본키를 구성하는 열은 복수라도 상관없다.





